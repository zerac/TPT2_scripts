# Museum package

This package automates powerstone buying / combining in museum.

To use this package, first modify in the `launch museum craft` script following attributes:

* `museum_market_available` : is offshore market available? `1` = yes `0` = no ( default = `1` )
* `museum_element` : which element to buy/move/clean ( defaut = `darkness` ) 
* `museum_buy_maxtier` : max tier of element bought in market ( default = `19` ) 
* `museum_combine_maxtier` : max tier allowed in combine ( default = `museum_buy_maxtier + 13` ) 
* `museum_combine_movetier` : tier of stones automatically moved into equipped ( default = `museum_buy_maxtier + 11` ) 
   * NOTE: This is necessary to avoid locking-up inventory because no more combinations are possible. 
* `museum_combine_maxloop` : this will increase buy/combine loop max for each cycle, change if your game lags too much / not enough ( default = `500` )
* `museum_clean_on_end` : set to 0 or 1. Cleans inventory from all `element` stones lower than `movetier-1` after end of script, triggered also by 'p' key while it is running ( default = `0` )
   * NOTE : Does not work if you turn off script by F4.

Elements are fire, water, earth, air, electricity, light, darkness, nature, universal. *NOTE: The element strings are case-sensitive, use lower-case.*

Once you've set all you want, launch the AI, go to the museum, then press the "p" key (impulse can be changed in the `launch museum craft` script).
Make sure you have enough money to buy stones, or script wont do anything. Can be launched from both inventory or buy/market screen.

The script will buy stones from market/shop and combine them in inventory.
It is set to move first 2 stones into 'equipped' inventory when they hit `museum_combine_movetier` tier.
If there is no space in 'equipped', it will continue combining in inventory until no further combinations are possible.

*NOTE: You need to turn off the script manually - this can be done either by pressing 'p' again , or turning AI off/on again. If you leave museum, the script will run but do nothing.*

**WARNING**: If the market stock changes during run of the script, it will not be recognized, and script will keep buying the stones.
Therefore it is highly recommended to set the `museum_buy_maxtier` to avoid losing your money on too high tier powerstones.

The script should provide easy way to create tier +12 stores from original - this depends on available 'equipped' inventory for recombination (NOTE: This functionality is TBD)

**WHAT TO CHECK BEFORE RUNNING**:
* Are all AI scripts enabled after import 
* Do you have museum market available (if not, change `museum_market_available` to `0`)
* Is the `museum_element` available in market
* Is the element's tier <= `museum_buy_maxtier` (if not, increase it in launch script)
* Do you have enough resources to buy the stones


# Import

## Dependencies

Requires 19 lines unlocked

**!!! vvv REQUIRED vvv !!!**

On top of the scripts here, the following script package is required to make this package work correctly:
- [Execution stack](/common/execution_stack)

## Import codes

### Launch museum craft

`E2xhdW5jaCBtdXNldW0gY3JhZnQBAAAABWtleS5wAQAAABJ0b3duLndpbmRvdy5pc29wZW4IY29uc3RhbnQEBm11c2V1bRQAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEF211c2V1bV9tYXJrZXRfYXZhaWxhYmxlCGNvbnN0YW50AgEAAAARZ2xvYmFsLnN0cmluZy5zZXQIY29uc3RhbnQEDm11c2V1bV9lbGVtZW50CGNvbnN0YW50BAhkYXJrbmVzcw5nbG9iYWwuaW50LnNldAhjb25zdGFudAQSbXVzZXVtX2J1eV9tYXh0aWVyCGNvbnN0YW50AhMAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEFm11c2V1bV9jb21iaW5lX21heHRpZXIOYXJpdGhtZXRpYy5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEEm11c2V1bV9idXlfbWF4dGllcghjb25zdGFudAQBKwhjb25zdGFudAINAAAADmdsb2JhbC5pbnQuc2V0CGNvbnN0YW50BBdtdXNldW1fY29tYmluZV9tb3ZldGllcg5hcml0aG1ldGljLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQSbXVzZXVtX2J1eV9tYXh0aWVyCGNvbnN0YW50BAErCGNvbnN0YW50AgsAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEFm11c2V1bV9jb21iaW5lX21heGxvb3AIY29uc3RhbnQC9AEAAA5nbG9iYWwuaW50LnNldAhjb25zdGFudAQTbXVzZXVtX2NsZWFuX29uX2VuZAhjb25zdGFudAIAAAAAEWdlbmVyaWMud2FpdHdoaWxlEWNvbXBhcmlzb24uc3RyaW5nCGNvbnN0YW50BDdZb3UgY2FuIGVkaXQgcHJldmlvdXMgbGluZXMsIGJ1dCBkb24ndCB0aGUgbGluZXMgYmVsbG93CGNvbnN0YW50BAI9PQhjb25zdGFudAQADmdlbmVyaWMuZ290b2lmCGNvbnN0YW50AgwAAAAOY29tcGFyaXNvbi5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEDW11c2V1bV9sYXVuY2gIY29uc3RhbnQEAj09CGNvbnN0YW50AgEAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEDW11c2V1bV9sYXVuY2gIY29uc3RhbnQCAQAAAAxnZW5lcmljLmdvdG8IY29uc3RhbnQCFAAAAA5nbG9iYWwuaW50LnNldAhjb25zdGFudAQNbXVzZXVtX2xhdW5jaAhjb25zdGFudAIAAAAADWxvY2FsLmludC5zZXQIY29uc3RhbnQEBWNsZWFuCGNvbnN0YW50AgAAAAANbG9jYWwuaW50LnNldAhjb25zdGFudAQJY2xlYW50aWVyDmFyaXRobWV0aWMuaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBdtdXNldW1fY29tYmluZV9tb3ZldGllcghjb25zdGFudAQBLQhjb25zdGFudAICAAAADmdlbmVyaWMuZ290b2lmCGNvbnN0YW50AhQAAAAOY29tcGFyaXNvbi5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEE211c2V1bV9jbGVhbl9vbl9lbmQIY29uc3RhbnQEAj09CGNvbnN0YW50AgAAAAAOZ2VuZXJpYy5nb3RvaWYIY29uc3RhbnQCEgAAAA9jb21wYXJpc29uLmJvb2wOY29tcGFyaXNvbi5pbnQRbXVzZXVtLnN0b25lLnRpZXIIY29uc3RhbnQECWludmVudG9yeQ1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAVjbGVhbghjb25zdGFudAQBPg1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAljbGVhbnRpZXIIY29uc3RhbnQEAXwRY29tcGFyaXNvbi5zdHJpbmcUbXVzZXVtLnN0b25lLmVsZW1lbnQIY29uc3RhbnQECWludmVudG9yeQ1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAVjbGVhbghjb25zdGFudAQCIT0RZ2xvYmFsLnN0cmluZy5nZXQIY29uc3RhbnQEDm11c2V1bV9lbGVtZW50DW11c2V1bS5kZWxldGUIY29uc3RhbnQECWludmVudG9yeQ1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAVjbGVhbg1sb2NhbC5pbnQuc2V0CGNvbnN0YW50BAVjbGVhbg5hcml0aG1ldGljLmludA1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAVjbGVhbghjb25zdGFudAQBKwhjb25zdGFudAIBAAAADmdlbmVyaWMuZ290b2lmCGNvbnN0YW50AhAAAAAOY29tcGFyaXNvbi5pbnQNbG9jYWwuaW50LmdldAhjb25zdGFudAQFY2xlYW4IY29uc3RhbnQEATwIY29uc3RhbnQCGAAAAAxnZW5lcmljLndhaXQIY29uc3RhbnQDAAAAAAAAAAA=`

### Register museum package

`F3JlZ2lzdGVyIG11c2V1bSBwYWNrYWdlAQAAAAZ3YWtldXAAAAAACwAAAA5nbG9iYWwuaW50LnNldAhjb25zdGFudAQQbG9hZGluZ19wYWNrYWdlcw5hcml0aG1ldGljLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQQbG9hZGluZ19wYWNrYWdlcwhjb25zdGFudAQBKwhjb25zdGFudAIBAAAAEWdlbmVyaWMud2FpdHVudGlsDmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BApzdGFydF9sb2FkCGNvbnN0YW50BAI9PQhjb25zdGFudAIBAAAAEWdlbmVyaWMud2FpdHVudGlsDmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BAxwYWNrYWdlX3V1aWQIY29uc3RhbnQEAj09CGNvbnN0YW50AgAAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEDHBhY2thZ2VfdXVpZAdpbnQubWF4Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BAxwYWNrYWdlX3V1aWQIY29uc3RhbnQCgAAAAA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIDAAAADmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BAxwYWNrYWdlX3V1aWQIY29uc3RhbnQEAiE9CGNvbnN0YW50AoAAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEC3BhY2thZ2VfaWRzDmFyaXRobWV0aWMuaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BAtwYWNrYWdlX2lkcwhjb25zdGFudAQBKwhjb25zdGFudAIBAAAADmdsb2JhbC5pbnQuc2V0CGNvbnN0YW50BBFtdXNldW1fcGFja2FnZV9pZA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQLcGFja2FnZV9pZHMOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEDHBhY2thZ2VfdXVpZAhjb25zdGFudAIAAAAADmdsb2JhbC5pbnQuc2V0CGNvbnN0YW50BBBsb2FkaW5nX3BhY2thZ2VzDmFyaXRobWV0aWMuaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBBsb2FkaW5nX3BhY2thZ2VzCGNvbnN0YW50BAEtCGNvbnN0YW50AgEAAAAPZ2VuZXJpYy5leGVjdXRlCGNvbnN0YW50BA5tdXNldW0gcGFja2FnZQxnZW5lcmljLndhaXQIY29uc3RhbnQDAAAAAAAAAAA=`

### Museum package

`Dm11c2V1bSBwYWNrYWdlAAAAAAAAAAARAAAAEWdlbmVyaWMud2FpdHVudGlsD2NvbXBhcmlzb24uYm9vbA5jb21wYXJpc29uLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQMY3VycmVudF9zdGVwCGNvbnN0YW50BAI9PQhjb25zdGFudAIBAAAACGNvbnN0YW50BAEmDmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BA9jdXJyZW50X3BhY2thZ2UIY29uc3RhbnQEAj09Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBFtdXNldW1fcGFja2FnZV9pZA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIRAAAAD2NvbXBhcmlzb24uYm9vbA9jb21wYXJpc29uLmJvb2wSdG93bi53aW5kb3cuaXNvcGVuCGNvbnN0YW50BAZtdXNldW0IY29uc3RhbnQEAj09CGNvbnN0YW50AQAIY29uc3RhbnQEAXwOY29tcGFyaXNvbi5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEDW11c2V1bV9sYXVuY2gIY29uc3RhbnQEAj09CGNvbnN0YW50AgAAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEEXBhY2thZ2VfZXhlY3V0aW5nCGNvbnN0YW50AgEAAAATZ2VuZXJpYy5leGVjdXRlc3luYwhjb25zdGFudAQSY29tYmluZSBuZXcgc3RvbmVzDGdlbmVyaWMuc3RvcAhjb25zdGFudAQSY29tYmluZSBuZXcgc3RvbmVzDmdsb2JhbC5pbnQuc2V0CGNvbnN0YW50BBFwYWNrYWdlX2V4ZWN1dGluZwhjb25zdGFudAIAAAAAEWdlbmVyaWMud2FpdHVudGlsD2NvbXBhcmlzb24uYm9vbA5jb21wYXJpc29uLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQMY3VycmVudF9zdGVwCGNvbnN0YW50BAI9PQhjb25zdGFudAICAAAACGNvbnN0YW50BAEmDmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BA9jdXJyZW50X3BhY2thZ2UIY29uc3RhbnQEAj09Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBFtdXNldW1fcGFja2FnZV9pZA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIRAAAAD2NvbXBhcmlzb24uYm9vbA9jb21wYXJpc29uLmJvb2wSdG93bi53aW5kb3cuaXNvcGVuCGNvbnN0YW50BAZtdXNldW0IY29uc3RhbnQEAj09CGNvbnN0YW50AQAIY29uc3RhbnQEAXwOY29tcGFyaXNvbi5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEDW11c2V1bV9sYXVuY2gIY29uc3RhbnQEAj09CGNvbnN0YW50AgAAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEEXBhY2thZ2VfZXhlY3V0aW5nCGNvbnN0YW50AgEAAAATZ2VuZXJpYy5leGVjdXRlc3luYwhjb25zdGFudAQPbW92ZSBuZXcgc3RvbmVzDGdlbmVyaWMuc3RvcAhjb25zdGFudAQPbW92ZSBuZXcgc3RvbmVzDmdsb2JhbC5pbnQuc2V0CGNvbnN0YW50BBFwYWNrYWdlX2V4ZWN1dGluZwhjb25zdGFudAIAAAAAEWdlbmVyaWMud2FpdHVudGlsD2NvbXBhcmlzb24uYm9vbA5jb21wYXJpc29uLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQMY3VycmVudF9zdGVwCGNvbnN0YW50BAI9PQhjb25zdGFudAIDAAAACGNvbnN0YW50BAEmDmNvbXBhcmlzb24uaW50Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BA9jdXJyZW50X3BhY2thZ2UIY29uc3RhbnQEAj09Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBFtdXNldW1fcGFja2FnZV9pZA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIRAAAAD2NvbXBhcmlzb24uYm9vbA9jb21wYXJpc29uLmJvb2wSdG93bi53aW5kb3cuaXNvcGVuCGNvbnN0YW50BAZtdXNldW0IY29uc3RhbnQEAj09CGNvbnN0YW50AQAIY29uc3RhbnQEAXwOY29tcGFyaXNvbi5pbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEDW11c2V1bV9sYXVuY2gIY29uc3RhbnQEAj09CGNvbnN0YW50AgAAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEEXBhY2thZ2VfZXhlY3V0aW5nCGNvbnN0YW50AgEAAAAOZ2xvYmFsLmludC5zZXQIY29uc3RhbnQEEXBhY2thZ2VfZXhlY3V0aW5nCGNvbnN0YW50AgAAAAAMZ2VuZXJpYy5nb3RvCGNvbnN0YW50AgEAAAA=`


### Combine new stones

`EmNvbWJpbmUgbmV3IHN0b25lcwAAAAAAAAAACwAAAA1sb2NhbC5pbnQuc2V0CGNvbnN0YW50BAVjeWNsZQ5hcml0aG1ldGljLmludA1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BAVjeWNsZQhjb25zdGFudAQBKwhjb25zdGFudAIBAAAAC211c2V1bS5maWxsCGNvbnN0YW50AQEOZ2VuZXJpYy5nb3RvaWYIY29uc3RhbnQCBgAAAA5jb21wYXJpc29uLmludA5nbG9iYWwuaW50LmdldAhjb25zdGFudAQXbXVzZXVtX21hcmtldF9hdmFpbGFibGUIY29uc3RhbnQEAj09CGNvbnN0YW50AgEAAAAKbXVzZXVtLmJ1eRFnbG9iYWwuc3RyaW5nLmdldAhjb25zdGFudAQObXVzZXVtX2VsZW1lbnQMZ2VuZXJpYy5nb3RvCGNvbnN0YW50AgcAAAAQbXVzZXVtLmJ1eU1hcmtldBFnbG9iYWwuc3RyaW5nLmdldAhjb25zdGFudAQObXVzZXVtX2VsZW1lbnQOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEEm11c2V1bV9idXlfbWF4dGllcg1sb2NhbC5pbnQuc2V0CGNvbnN0YW50BAdjb21iaW5lDmFyaXRobWV0aWMuaW50DWxvY2FsLmludC5nZXQIY29uc3RhbnQEB2NvbWJpbmUIY29uc3RhbnQEASsIY29uc3RhbnQCAQAAAA5tdXNldW0uY29tYmluZQ5nbG9iYWwuaW50LmdldAhjb25zdGFudAQWbXVzZXVtX2NvbWJpbmVfbWF4dGllcg5nZW5lcmljLmdvdG9pZghjb25zdGFudAIHAAAADmNvbXBhcmlzb24uaW50DWxvY2FsLmludC5nZXQIY29uc3RhbnQEB2NvbWJpbmUIY29uc3RhbnQEATwIY29uc3RhbnQCCwAAAA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIBAAAADmNvbXBhcmlzb24uaW50DWxvY2FsLmludC5nZXQIY29uc3RhbnQEBWN5Y2xlCGNvbnN0YW50BAE8Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBZtdXNldW1fY29tYmluZV9tYXhsb29wDGdlbmVyaWMud2FpdAhjb25zdGFudAMAAAAAAAAAAA==`


### Move new stones

`D21vdmUgbmV3IHN0b25lcwAAAAAAAAAABQAAAA5nZW5lcmljLmdvdG9pZghjb25zdGFudAIDAAAAD2NvbXBhcmlzb24uYm9vbA5jb21wYXJpc29uLmludBFtdXNldW0uc3RvbmUudGllcghjb25zdGFudAQJaW52ZW50b3J5CGNvbnN0YW50AgAAAAAIY29uc3RhbnQEATwOZ2xvYmFsLmludC5nZXQIY29uc3RhbnQEF211c2V1bV9jb21iaW5lX21vdmV0aWVyCGNvbnN0YW50BAF8EWNvbXBhcmlzb24uc3RyaW5nFG11c2V1bS5zdG9uZS5lbGVtZW50CGNvbnN0YW50BAlpbnZlbnRvcnkIY29uc3RhbnQCAAAAAAhjb25zdGFudAQCIT0RZ2xvYmFsLnN0cmluZy5nZXQIY29uc3RhbnQEDm11c2V1bV9lbGVtZW50C211c2V1bS5tb3ZlCGNvbnN0YW50BAlpbnZlbnRvcnkIY29uc3RhbnQCAAAAAAhjb25zdGFudAQIZXF1aXBwZWQOZ2VuZXJpYy5nb3RvaWYIY29uc3RhbnQCBQAAAA9jb21wYXJpc29uLmJvb2wOY29tcGFyaXNvbi5pbnQRbXVzZXVtLnN0b25lLnRpZXIIY29uc3RhbnQECWludmVudG9yeQhjb25zdGFudAIBAAAACGNvbnN0YW50BAE8Dmdsb2JhbC5pbnQuZ2V0CGNvbnN0YW50BBdtdXNldW1fY29tYmluZV9tb3ZldGllcghjb25zdGFudAQBfBFjb21wYXJpc29uLnN0cmluZxRtdXNldW0uc3RvbmUuZWxlbWVudAhjb25zdGFudAQJaW52ZW50b3J5CGNvbnN0YW50AgEAAAAIY29uc3RhbnQEAiE9EWdsb2JhbC5zdHJpbmcuZ2V0CGNvbnN0YW50BA5tdXNldW1fZWxlbWVudAttdXNldW0ubW92ZQhjb25zdGFudAQJaW52ZW50b3J5CGNvbnN0YW50AgEAAAAIY29uc3RhbnQECGVxdWlwcGVkDGdlbmVyaWMud2FpdAhjb25zdGFudAMAAAAAAAAAAA==`


### Recombine inventory ( TBD )

`E3JlY29tYmluZSBpbnZlbnRvcnkAAAAAAAAAAAAAAAA=`
